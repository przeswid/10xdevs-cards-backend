spring:
  datasource:
    # Testcontainers will override these values dynamically via @DynamicPropertySource
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: none
    show-sql: false
    properties:
      hibernate:
        format_sql: false
        dialect: org.hibernate.dialect.PostgreSQLDialect

  liquibase:
    enabled: true
    change-log: classpath:db/changelog/liquibase/changelog-master.xml
    contexts: core,performance,security,data

  # Security settings for tests
  security:
    jwt:
      secret: test-secret-key-for-testing-purposes-only-minimum-256-bits-required-for-hs256-algorithm
      expiration: 3600000 # 1 hour

  # Disable actuator endpoints in tests
  actuator:
    enabled: false

# OpenRouter configuration for tests (overridden by @DynamicPropertySource)
openrouter:
  api-key: test-api-key-fallback
  app-url: http://localhost:8080
  app-name: "10xDevs Cards Test"
  default-model: "openai/gpt-4o-mini"

# Logging configuration for tests
logging:
  level:
    root: INFO
    com.ten.devs.cards: DEBUG
    org.springframework.security: INFO
    org.hibernate.SQL: INFO
    org.testcontainers: INFO
    com.github.dockerjava: WARN
    org.springframework.test: INFO

# Testcontainers settings
testcontainers:
  reuse:
    enable: true
